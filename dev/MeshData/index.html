<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>MeshData · StartUpDG.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">StartUpDG.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../RefElemData/"><code>RefElemData</code></a></li><li class="is-active"><a class="tocitem" href><code>MeshData</code></a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Setting-up-md::MeshData"><span>Setting up <code>md::MeshData</code></span></a></li><li><a class="tocitem" href="#Generating-unstructured-meshes"><span>Generating unstructured meshes</span></a></li><li><a class="tocitem" href="#Initializing-high-order-DG-mesh-data"><span>Initializing high order DG mesh data</span></a></li><li><a class="tocitem" href="#Enforcing-periodic-boundary-conditions"><span>Enforcing periodic boundary conditions</span></a></li><li><a class="tocitem" href="#Creating-curved-meshes"><span>Creating curved meshes</span></a></li><li><a class="tocitem" href="#Unstructured-triangular-meshes-using-Triangulate"><span>Unstructured triangular meshes using Triangulate</span></a></li></ul></li><li><a class="tocitem" href="../ex_dg_deriv/">Example: computing DG derivatives</a></li><li><a class="tocitem" href="../tstep_usage/">Timestepping</a></li><li><a class="tocitem" href="../index_refs/">Reference</a></li><li><a class="tocitem" href="../authors/">Authors</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href><code>MeshData</code></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href><code>MeshData</code></a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jlchan/StartUpDG.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="MeshData-type"><a class="docs-heading-anchor" href="#MeshData-type"><code>MeshData</code> type</a><a id="MeshData-type-1"></a><a class="docs-heading-anchor-permalink" href="#MeshData-type" title="Permalink"></a></h1><p><a href="../index_refs/#StartUpDG.MeshData"><code>MeshData</code></a> contains the following fields</p><ul><li><code>K</code>: number of elements <span>$K$</span> in the mesh.</li><li><code>FToF</code>: indexing vector for face-to-face connectivity (length of the vector is the total number of faces, e.g., <span>$N_{\rm faces} K$</span>)</li><li><code>xyz::NTuple{Dim,...}</code>: nodal interpolation points mapped to physical elements. All elements of <code>xyz</code> are <span>$N_p \times K$</span> matrices, where <span>$N_p$</span> are the number of nodal points on each element.</li><li><code>xyzq::NTuple{Dim,...}, wJq</code>: volume quadrature points/weights mapped to physical elements. All elements these tuples are <span>$N_q \times K$</span> matrices, where <span>$N_q$</span> is the number of quadrature points on each element.</li><li><code>xyzf::NTuple{Dim,...}</code>: face quadrature points mapped to physical elements. All elements of <code>xyz</code> are <span>$N_f \times K$</span> matrices, where <span>$N_f$</span> is the number of face points on each element.</li><li><code>mapP,mapB</code>: indexing arrays for inter-element node connectivity (<code>mapP</code>) and for extracting boundary nodes from the list of face nodes <code>xyzf</code> (<code>mapB</code>). <code>mapP</code> is a matrix of size <span>$N_f \times K$</span>, while the length of <code>mapB</code> is the total number of nodes on the boundary.</li><li><code>rstxyzJ::SMatrix{Dim,Dim}</code>: volume geometric terms <span>$G_{ij} = \frac{\partal x_i}{\partial \hat{x}_j}$</span>. Each element of <code>rstxyzJ</code> is a matrix of size <span>$N_p \times K$</span>.</li><li><code>J,sJ</code>: volume and surface Jacobians evaluated at interpolation points and surface quadrature points, respectively. <code>J</code> is a matrix of size <span>$N_p \times K$</span>, while <code>sJ</code> is a matrix of size <span>$N_f \times K$</span>.</li><li><code>nxyzJ::NTuple{Dim,...}</code>: scaled outward normals evaluated at surface quadrature points. Each element of <code>nxyzJ</code> is a matrix of size <span>$N_f\times K$</span>.</li></ul><h1 id="Setting-up-md::MeshData"><a class="docs-heading-anchor" href="#Setting-up-md::MeshData">Setting up <code>md::MeshData</code></a><a id="Setting-up-md::MeshData-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-up-md::MeshData" title="Permalink"></a></h1><p>The <a href="../index_refs/#StartUpDG.MeshData"><code>MeshData</code></a> struct contains data for high order DG methods useful for evaluating DG formulations in a matrix-free fashion.</p><h2 id="Generating-unstructured-meshes"><a class="docs-heading-anchor" href="#Generating-unstructured-meshes">Generating unstructured meshes</a><a id="Generating-unstructured-meshes-1"></a><a class="docs-heading-anchor-permalink" href="#Generating-unstructured-meshes" title="Permalink"></a></h2><p>For convenience, simple uniform meshes are included in with <code>StartUpDG.jl</code> via <a href="../index_refs/#StartUpDG.uniform_mesh-Tuple{Line, Any}"><code>uniform_mesh</code></a></p><pre><code class="language-julia">using StartUpDG
Kx,Ky,Kz = 4,2,8
VX,EToV = uniform_mesh(Line(),Kx)
VX,VY,EToV = uniform_mesh(Tri(),Kx,Ky)
VX,VY,EToV = uniform_mesh(Quad(),Kx,Ky)
VX,VY,VZ,EToV = uniform_mesh(Hex(),Kx,Ky,Kz)</code></pre><p>The uniform triangular mesh is constructed by creating a uniform quadrilateral mesh then bisecting each quad into two triangles.</p><h2 id="Initializing-high-order-DG-mesh-data"><a class="docs-heading-anchor" href="#Initializing-high-order-DG-mesh-data">Initializing high order DG mesh data</a><a id="Initializing-high-order-DG-mesh-data-1"></a><a class="docs-heading-anchor-permalink" href="#Initializing-high-order-DG-mesh-data" title="Permalink"></a></h2><p>Given unstructured mesh information (tuple of vertex coordinates <code>VXYZ</code> and index array <code>EToV</code>) high order DG mesh data can be constructed as follows:</p><pre><code class="language-julia">md = MeshData(VXYZ...,EToV,rd)</code></pre><h2 id="Enforcing-periodic-boundary-conditions"><a class="docs-heading-anchor" href="#Enforcing-periodic-boundary-conditions">Enforcing periodic boundary conditions</a><a id="Enforcing-periodic-boundary-conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Enforcing-periodic-boundary-conditions" title="Permalink"></a></h2><p>Periodic boundary conditions can be enforced by calling <a href="../index_refs/#StartUpDG.make_periodic-Tuple{MeshData, RefElemData, Vararg{Any, N} where N}"><code>make_periodic</code></a>, which returns another <code>MeshData</code> struct with modified <code>mapP</code>,<code>mapB</code>, and <code>FToF</code> indexing arrays which account for periodicity.</p><pre><code class="language-julia">md = MeshData(VX,VY,EToV,rd)
md_periodic = make_periodic(md,rd) # periodic in both x and y coordinates
md_periodic_x = make_periodic(md,rd,true,false) # periodic in x direction, but not y</code></pre><p>One can check which dimensions are periodic via the <code>is_periodic</code> field of <code>MeshData</code>. For example, the <code>md_periodic_x</code> example above gives</p><pre><code class="language-julia">julia&gt; md_periodic_x.is_periodic
(true, false)</code></pre><h2 id="Creating-curved-meshes"><a class="docs-heading-anchor" href="#Creating-curved-meshes">Creating curved meshes</a><a id="Creating-curved-meshes-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-curved-meshes" title="Permalink"></a></h2><p>It&#39;s common to generate curved meshes by first generating a linear mesh, then moving high order nodes on the linear mesh. This can be done by calling <a href="../index_refs/#StartUpDG.MeshData"><code>MeshData</code></a> again with new <code>x,y</code> coordinates:</p><pre><code class="language-julia">md = MeshData(VX,VY,EToV,rd)
@unpack x,y = md
# &lt;-- code to modify high order nodes (x,y)
md_curved = MeshData(md,rd,x,y)</code></pre><p><code>MeshData(md,rd,x,y)</code> and <code>MeshData(md,rd,x,y,z)</code> are implemented for 2D and 3D, though this is not currently implemented in 1D.</p><p>More generally, one can create a copy of a <code>MeshData</code> with certain fields modified by using <code>@set</code> or <code>setproperties</code> from <code>Setfield.jl</code>.</p><h2 id="Unstructured-triangular-meshes-using-Triangulate"><a class="docs-heading-anchor" href="#Unstructured-triangular-meshes-using-Triangulate">Unstructured triangular meshes using Triangulate</a><a id="Unstructured-triangular-meshes-using-Triangulate-1"></a><a class="docs-heading-anchor-permalink" href="#Unstructured-triangular-meshes-using-Triangulate" title="Permalink"></a></h2><p>If <code>Triangulate</code> is also loaded, then StartUpDG will includes a few additional utilities for creating and visualizing meshes. </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../RefElemData/">« <code>RefElemData</code></a><a class="docs-footer-nextpage" href="../ex_dg_deriv/">Example: computing DG derivatives »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 16 June 2021 01:17">Wednesday 16 June 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
